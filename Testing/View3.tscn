[gd_scene load_steps=10 format=2]

[ext_resource path="res://Crawler/View/Assets/oc_donut_steel/tegu/tegu.png" type="Texture" id=1]
[ext_resource path="res://Crawler/View/Assets/Tiles/Test2.png" type="Texture" id=2]

[sub_resource type="GDScript" id=33]
script/source = "extends Camera

func _process(delta):
	# Given that keep_aspect == KEEP_HEIGHT
	# size is 15 if screen is 720 size.
	self.size = get_viewport().size.y * 15 / 720.0
"

[sub_resource type="SpatialMaterial" id=4]
albedo_texture = ExtResource( 2 )
uv1_scale = Vector3( 0.5, 0.063, 1 )
uv1_offset = Vector3( 0.001, 0.001, 0 )

[sub_resource type="PlaneMesh" id=5]
material = SubResource( 4 )
size = Vector2( 1, 1 )
center_offset = Vector3( 0, -0.5, 0 )

[sub_resource type="CubeMesh" id=6]
size = Vector3( 1, 1, 1 )

[sub_resource type="MeshLibrary" id=7]
item/0/name = ""
item/0/mesh = SubResource( 5 )
item/0/mesh_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
item/0/shapes = [  ]
item/0/navmesh_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
item/1/name = ""
item/1/mesh = SubResource( 6 )
item/1/mesh_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
item/1/shapes = [  ]
item/1/navmesh_transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )

[sub_resource type="GDScript" id=32]
script/source = "extends GridMap

func _ready():
	clear()
	for x in range(-10, 11):
		for z in range(-10, 11):
			if x*x + z*z > 100:
				pass
#			elif x*x + z*z > 79:
#				set_cell_item(x, 0, z, 1)
			else:
				set_cell_item(x, 0, z, 0)

	for i in range(-2, 3):
		set_cell_item(i, 0, -2, 1)
		set_cell_item(i, 0, 2, 1)
	
"

[sub_resource type="AtlasTexture" id=1]
atlas = ExtResource( 1 )
region = Rect2( 0, 40, 40, 40 )

[node name="Spatial" type="Spatial"]

[node name="CameraPivot" type="Spatial" parent="."]

[node name="Camera" type="Camera" parent="CameraPivot"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 50 )
projection = 1
current = true
size = 15.0
script = SubResource( 33 )

[node name="DirectionalLight" type="DirectionalLight" parent="CameraPivot/Camera"]
light_energy = 0.3

[node name="Skew" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, -0.667, 0, 0, 1, 0, 0, 0 )

[node name="GridMap" type="GridMap" parent="Skew"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 0, -0.5 )
mesh_library = SubResource( 7 )
cell_size = Vector3( 1, 1, 1 )
data = {
"cells": PoolIntArray( 0, 0, 0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 0, 5, 0, 0, 65532, 0, 0, 65533, 0, 0, 65534, 0, 0, 65535, 0, 0, 0, 1, 0, 1, 1, 0, 2, 1, 0, 3, 1, 0, 4, 1, 0, 65531, 1, 0, 65532, 1, 0, 65533, 1, 0, 65534, 1, 0, 65535, 1, 0, 0, 2, 1, 1, 2, 1, 2, 2, 1, 3, 2, 0, 65532, 2, 0, 65533, 2, 0, 65534, 2, 1, 65535, 2, 1, 0, 3, 0, 1, 3, 0, 2, 3, 0, 3, 3, 0, 65532, 3, 0, 65533, 3, 0, 65534, 3, 0, 65535, 3, 0, 0, 4, 0, 1, 4, 0, 2, 4, 0, 3, 4, 0, 0, 5, 0, 1, 5, 0, 0, 65532, 0, 1, 65532, 0, 2, 65532, 0, 3, 65532, 0, 0, 65533, 0, 1, 65533, 0, 2, 65533, 0, 3, 65533, 0, 4, 65533, 0, 65532, 65533, 0, 65533, 65533, 0, 65534, 65533, 0, 65535, 65533, 0, 0, 65534, 1, 1, 65534, 1, 2, 65534, 1, 3, 65534, 0, 4, 65534, 0, 5, 65534, 0, 6, 65534, 0, 65532, 65534, 0, 65533, 65534, 0, 65534, 65534, 1, 65535, 65534, 1, 0, 65535, 0, 1, 65535, 0, 2, 65535, 0, 3, 65535, 0, 4, 65535, 0, 5, 65535, 0, 65531, 65535, 0, 65532, 65535, 0, 65533, 65535, 0, 65534, 65535, 0, 65535, 65535, 0 )
}
script = SubResource( 32 )
__meta__ = {
"_editor_clip_": 0
}

[node name="billboard" type="Sprite3D" parent="Skew"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 0, -1 )
centered = false
offset = Vector2( -20, -5 )
pixel_size = 0.0417
billboard = 1
texture = SubResource( 1 )

[node name="billboard2" type="Sprite3D" parent="Skew/billboard"]
centered = false
offset = Vector2( -20, -5 )
modulate = Color( 0.34902, 0.34902, 0.34902, 1 )
pixel_size = 0.0417
billboard = 1
no_depth_test = true
render_priority = -1
texture = SubResource( 1 )

[node name="y_billboard" type="Sprite3D" parent="Skew"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -1 )
centered = false
offset = Vector2( -20, -5 )
pixel_size = 0.0417
billboard = 2
texture = SubResource( 1 )

[node name="SeeThrough" type="Sprite3D" parent="Skew/y_billboard"]
centered = false
offset = Vector2( -20, -5 )
modulate = Color( 0.34902, 0.34902, 0.34902, 1 )
pixel_size = 0.0417
billboard = 2
no_depth_test = true
render_priority = -1
texture = SubResource( 1 )

[node name="y_billboard2" type="Sprite3D" parent="Skew"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -3 )
centered = false
offset = Vector2( -20, -5 )
pixel_size = 0.0417
billboard = 2
texture = SubResource( 1 )

[node name="SeeThrough" type="Sprite3D" parent="Skew/y_billboard2"]
centered = false
offset = Vector2( -20, -5 )
modulate = Color( 0.34902, 0.34902, 0.34902, 1 )
pixel_size = 0.0417
billboard = 2
no_depth_test = true
render_priority = -1
texture = SubResource( 1 )
